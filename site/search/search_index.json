{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["trimmer","stopWordFilter"]},"docs":[{"location":"architecture/","title":"Architecture","text":""},{"location":"architecture/#ozon-architecture","title":"Ozon Architecture","text":""},{"location":"architecture/#ozon-components","title":"Ozon Components","text":"<p>Ozon have tree components for running bellow :</p>"},{"location":"architecture/#1-ldap","title":"1. LDAP","text":"<p>Ozon uses LDAP as a user Authentication service. The OpenStack Keystone service is integrated into LDAP. So just one user for all regions.</p>"},{"location":"architecture/#2-yuyu","title":"2. Yuyu","text":"<p>Ozon uses Yuyu as a billing service. Yuyu is able to calculate resource flavors, snapshots, volumes, images, routers floating IPs. For more information about Yuyu, please visit https://yuyu-billing.dev.</p>"},{"location":"billing-overview/","title":"Billing overview","text":"<p>The billing overview page is displayed in graphical form for easy viewing of total resources, active resources, and prices charged. This page can be seeing in Admin &gt; Billing &gt; Billing Overview.</p> <p></p>"},{"location":"billing-settings/","title":"Billing Invoices Settings","text":"<p>For company profile you can set on admin settings menu like bellow :</p> <p></p>"},{"location":"contact/","title":"Contact","text":""},{"location":"contact/#we-like-to-create-things-with-fun-open-minded-people-feel-free-to-ask","title":"We like to create things with fun, open-minded people. Feel free to ask!","text":"<p>Contact : yuyubilling@gmail.com</p>"},{"location":"cost/","title":"Usages cost","text":"<p>The usage cost page will display your usage details.</p> <p></p>"},{"location":"crud-region/","title":"CRUD Region","text":"<p>In Ozon we can easily Create, Read, Update, Delete (CRUD) region data.  </p>"},{"location":"crud-region/#create","title":"Create","text":"<ul> <li>Firstly you need access to admin user, then to <code>Ozon</code> menu and click to <code>Region Setting</code> and you can click <code>Add Region</code> Button.</li> </ul> <ul> <li>After that a popup form will appear. Fill in the <code>URL</code> and <code>Region Name</code>, then click <code>Add Region</code>: </li> </ul> <ul> <li>And you can see in the table list of region</li> </ul>"},{"location":"crud-region/#update","title":"Update","text":"<ul> <li>To update the data region, you can click the <code>Update Region</code> button on the data row you want.</li> </ul> <ul> <li>After that a popup form will appear. You can change <code>URL</code> and <code>Region Name</code>, then click <code>Update Region</code>:</li> </ul>"},{"location":"demo/","title":"Demo","text":"<p>Our resources is free, you can use for see how it work Ozon on openstack, please follow guide  bellow :</p>"},{"location":"demo/#demo-access","title":"Demo access","text":"<ul> <li>https://demo.ozon-billing.dev</li> </ul>"},{"location":"demo/#lab-credentials","title":"Lab Credentials","text":"<pre><code>username : demo\npassword : nm*iW0vY505#\n</code></pre>"},{"location":"email_configuration/","title":"Email activating","text":"<p>Besides from notification center, we can receive billing invoice using email, for configuration </p> <ul> <li>Update local_settings.py configuration file</li> </ul> <pre><code>cd /var/ozon/\nnano ozon/local_settings.py\n</code></pre> <p></p> <ul> <li>Running dataabase migration</li> </ul> <pre><code>python manage.py migrate\n</code></pre> <ul> <li>After we configure email, now we received information from email</li> </ul> <p></p>"},{"location":"features/","title":"Features","text":""},{"location":"features/#billing-system","title":"Billing System","text":"<p>Calculate your usage easily into a single currency.</p> <ul> <li>Price Configuration </li> <li>Invoice </li> <li>Usage Cost </li> <li>Billing Overview </li> <li>Notification Center </li> <li>Email Configuration </li> <li>Balance </li> <li>Endpoint Grafana and Prometheus </li> </ul>"},{"location":"features/#centralized-region","title":"Centralized Region","text":"<p>All in one Dashboard. No more logins, just one account. </p> <ul> <li>Add Region </li> <li>Edit Region </li> <li>Delete Region </li> </ul>"},{"location":"features/#theme-settings","title":"Theme Settings","text":"<p>Personalized your looks. Get comfortable with it.</p> <ul> <li>Change Dashboard Name </li> <li>Change Logo </li> <li>Change Favicon </li> <li>Change Primary Color </li> <li>Change Login Background </li> </ul>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#1-ozon-api-event-monitor","title":"1. Ozon API &amp; Event Monitor","text":"<ol> <li>Clone the latest source code and put it on any directory you want. Here i assume you put it on /var</li> </ol> <p><pre><code>cd /var\ngit clone https://github.com/btechpt/ozon.git\ncd ozon\n</code></pre> 2.  Create virtualenv (Need activated)</p> <p><pre><code>virtualenv env --python=python3.8\nsource env/bin/activate\npip install -r requirements.txt\n</code></pre> 3.  Update local_settings.py configuration file</p> <pre><code>cp ozon/local_settings.py.sample ozon/local_settings.py\nvi ozon/local_settings.py\n</code></pre> <p>Bellow for configuration : <pre><code>YUYU_NOTIFICATION_URL = \"rabbit://openstack:password@127.0.0.1:5672//\"\nYUYU_NOTIFICATION_TOPICS = [\"notifications\"]\n</code></pre></p> <p></p> <p>You can get YUYU_NOTIFICATION_URL from neutron.conf, bellow if using kolla-ansible deployment.</p> <p><pre><code>cat /etc/kolla/neutron-server/neutron.conf | grep transport_url\n</code></pre> 4.  Run database migration</p> <p><pre><code>python manage.py migrate\n</code></pre> 5.  Ozon API installation <pre><code>./bin/setup_api.sh\nsystemctl enable yuyu_api\nsystemctl start yuyu_api\nsystemctl status yuyu_api\n</code></pre> 6.  Ozon Event Monitor installation</p> <p><pre><code>./bin/setup_event_monitor.sh\nsystemctl enable yuyu_event_monitor\nsystemctl start yuyu_event_monitor\nsystemctl status yuyu_event_monitor\n</code></pre> 7.  Crontab installation</p> <pre><code>crontab -e\n</code></pre> <p>Add on the end file bellow :</p> <p><pre><code>1 0 1 * * /var/ozon/bin/process_invoice.sh\n</code></pre> 8. Disable virtualenv</p> <p>Last step for Ozon API is need disabled virtualenv.</p> <pre><code>deactivate\n</code></pre>"},{"location":"installation/#2-ozon-dashboard","title":"2. Ozon Dashboard","text":"<ol> <li>Clone Repository</li> </ol> <p><pre><code>cd /var\ngit clone https://github.com/btechpt/yuyu_dashboard.git\ncd yuyu_dashboard\n</code></pre> 2. Setup Ozon dashboard </p> <p><pre><code>./setup_yuyu.sh\n\n...\nEnter horizon location and press ENTER.\nexample: /var/www/html/horizon\n...\n</code></pre> 3. Install Ozon Dashboard Depencencies</p> <p><pre><code>pip3 install -r requirements.txt\n</code></pre> 4. Add config settings on horizon local_settings.py</p> <p><pre><code>vi /var/www/html/horizon/openstack_dashboard/local/local_settings.py\n</code></pre> <pre><code>YUYU_URL=\"http://yuyu_server_url:8182\"\nCURRENCIES = ('IDR',)\nDEFAULT_CURRENCY = \"IDR\"\n</code></pre></p> <p>For YUYU_URL you can use</p> <p><pre><code>YUYU_URL=\"http://127.0.0.1:8182\"\n</code></pre> 5. Restart Horizon <pre><code>systemctl restart apache2\n</code></pre> 6. Restart memcached (If dashboard login view not proper) <pre><code>systemctl restart memcached\n</code></pre></p>"},{"location":"installation/#verify-installation","title":"Verify Installation","text":"<p>Access Dashboard, make sure Billing tab available in the navigation pane dashboard, next step need enabled billing &amp; create pricing.</p>"},{"location":"introduction/","title":"Introduction","text":""},{"location":"introduction/#what-is-ozon","title":"What is Ozon ?","text":"<p>Ozon is OpenStack's Horizon Dashboard UI with added functionalities for managing billing systems and centralizing regions. Take full control of usage all in one convenient place.</p>"},{"location":"introduction/#what-do-we-offer-benefits","title":"What do we offer (benefits)","text":"<p>Ozon can set a price for the following OpenStack feature bellow :</p>"},{"location":"introduction/#1-enhanced-control","title":"1. ENHANCED CONTROL","text":"<p>Effortlessly manage costs and resources with precision.</p>"},{"location":"introduction/#2-flexible-pricing","title":"2. FLEXIBLE PRICING","text":"<p>Adjust prices according to your needs for better calculations.</p>"},{"location":"introduction/#3-comprehensive-reporting","title":"3. COMPREHENSIVE REPORTING","text":"<p>Get detailed insights for informed, strategic business decision.</p>"},{"location":"introduction/#4-streamlined-management","title":"4. STREAMLINED MANAGEMENT","text":"<p>Organize everything seamlessly, simplify cloud control.</p>"},{"location":"invoice/","title":"Download invoices summary","text":"<p>For usages summary document pricing currently in Alpha version you can download by PDF document with step bellow :</p> <ul> <li>Firstly go to <code>Invoices</code> menu, you can use standard user or admin. And choose for months.</li> </ul> <p></p> <ul> <li>And then download your document</li> </ul> <p></p>"},{"location":"notification/","title":"Notification Center","text":""},{"location":"pre-installation/","title":"Pre-Installation","text":""},{"location":"pre-installation/#virtualenv","title":"Virtualenv","text":"<p>Make sure you installed virtualenv before installing Ozon</p> <pre><code>pip3 install virtualenv\napt install python3.8\n</code></pre>"},{"location":"pre-installation/#openstack-service-notification","title":"Openstack Service Notification","text":"<p>You need to enable notification for this openstack service if ceilometer and gnochi service not activated:</p> <ul> <li>Nova (nova.conf)</li> <li>Cinder (cinder.conf)</li> <li>Neutron (neutron.conf)</li> <li>Keystone (keystone.conf)</li> </ul>"},{"location":"pre-installation/#1-nova","title":"1. Nova","text":"<p>Open <code>nova.conf</code> configuration on your controller environment <pre><code>sudo nano nova.conf\n</code></pre></p> <p>Add configuration below <code>oslo_messaging_notifications</code></p> <pre><code>driver = messagingv2 \ntopics = notifications\n</code></pre> <p></p> <p>And add configuration below on <code>notifications</code></p> <pre><code>notify_on_state_change = vm_and_task_state\nnotification_format = unversioned\n</code></pre> <p></p>"},{"location":"pre-installation/#2-cinder","title":"2. Cinder","text":"<p>Open <code>cinder.conf</code> configuration on your controller environment</p> <pre><code>sudo nano cinder.conf\n</code></pre> <p>Add configuration below on <code>oslo_messaging_notifications</code></p> <pre><code>driver = messagingv2 \ntopics = notifications\n</code></pre> <p></p>"},{"location":"pre-installation/#3-neutron","title":"3. Neutron","text":"<p>Open <code>neutron.conf</code> configuration on your controller environment</p> <pre><code>sudo nano neutron.conf\n</code></pre> <p>Add configuration below on <code>oslo_messaging_notifications</code></p> <pre><code>driver = messagingv2 \ntopics = notifications\n</code></pre> <p></p>"},{"location":"pre-installation/#4-keystone","title":"4. Keystone","text":"<p>Open <code>keystone.conf</code> configuration on your controller environment</p> <pre><code>sudo nano keystone.conf\n</code></pre> <p>Add configuration below on <code>oslo_messaging_notifications</code></p> <pre><code>driver = messagingv2 \ntopics = notifications\n</code></pre> <p></p>"},{"location":"prerequisites/","title":"Prerequisites","text":""},{"location":"prerequisites/#system-requirement","title":"System Requirement","text":"<p>Before installing Ozon, let's assume we already have installed apps bellow :</p> <ul> <li>Openstack</li> <li>or Openstack with enabling ceilometer and gnochi service</li> <li>Virtualenv</li> <li>Linux environment with Systemd</li> </ul>"},{"location":"prerequisites/#openstack-deployment-support","title":"OpenStack deployment support","text":"<p>Until alpha version for openstack deployment support, we have tested on :</p> <ul> <li>Openstack using Kolla-Ansible</li> <li>Openstack using Devstack</li> <li>Openstack using Manual deployment</li> </ul>"},{"location":"prerequisites/#openstack-version-support","title":"OpenStack version support","text":"<p>Currently we have tested several openstack version to support ozon :</p> <ul> <li>Ussuri =&gt; Working </li> <li>Xena =&gt; Working</li> <li>Yoga =&gt; Working </li> </ul>"},{"location":"prerequisites/#openstack-installation","title":"OpenStack Installation","text":"<p>For openstack you can follow our documentation, deploy openstack using koll-ansible bellow :</p> <p>Openstack Install Guide</p>"},{"location":"preusages/","title":"Pre-Usages","text":"<p>Before ozon calculates your openstack usage, there are a few things to do.</p> <ol> <li> <p>Complete price configuration items. If the price configuration is not complete then the system will show a warning and billing cannot be activated. For it we can follow this guide.</p> </li> <li> <p>Enable billing. If billing is disabled, ozon never calculate openstack usage. Billing can be enabled if the price configuration is completed. Can set with Tab Admin -&gt; Billing -&gt; Billing Setting &amp; Click Enable </p> </li> </ol> <p></p>"},{"location":"price/","title":"How to create pricing","text":"<p>Pricing feature for openstack you can manage bellow detail :</p> <ul> <li>Flavor</li> <li>Volume</li> <li>Snapshot</li> <li>Floating IP</li> <li>Router </li> <li>Images </li> </ul>"},{"location":"price/#create-price","title":"Create price","text":"<ul> <li>Firstly you need access to admin user, then to billing menu and click to <code>Price Configuration</code> and you can choose your feature for example Flavor pricing.</li> </ul> <ul> <li>Then create your custom pricing for hourly &amp; monthly: </li> </ul> <ul> <li>And you can see, success to create flavor pricing</li> </ul>"}]}